# Plan Mode 使用

Plan Mode绝对是Claude Code最重要的功能，每次写代码前必须用它。很多人直接让Claude写代码，结果写出来的东西乱七八糟，后期根本没法维护，最后只能推倒重来。我见过太多这样的例子了。

## 如何开启

- **macOS**: `Shift + Tab`
- **Windows**: `Alt + M`

![Plan Mode 切换界面](/img/media/image3.png)

## 正确的工作流程

1. **先描述需求**  
   在Plan Mode里把需求说清楚，不要直接说"帮我写个注册功能"，而是要说清楚：需要邮箱验证吗？密码有什么要求？要不要支持第三方登录？

2. **讨论方案**  
   让Claude提出实现方案，你要不断追问：为什么用这个技术栈？还有别的选择吗？可能会遇到什么问题？

3. **确认理解**  
   直到你完全理解了方案，才能退出Plan Mode开始写代码

![Plan Mode 输出示例](/img/media/image4.png)

## 血的教训

我之前就犯过这个错误，不懂装懂，Claude说什么就是什么，结果写出来的代码完全看不懂，出了问题都不知道怎么改。后来学聪明了，在Plan Mode里把所有不懂的地方都问清楚，让Claude用生活例子解释，直到完全明白才开始。

记住一个原则：**你必须清楚AI要做什么，否则最后会得到一堆无法修改的垃圾代码。**

## 实际案例

比如你要做用户注册功能，在Plan Mode里的对话应该是这样：

```
你：我要做用户注册功能，需要邮箱验证
AI：好的，我建议这样实现...
你：为什么选择JWT而不是Session？
AI：因为你的应用是前后端分离...
你：邮箱验证码如何存储？过期时间多久合适？
AI：建议用Redis存储，过期时间10分钟...
```

这样看起来慢一点，但实际上省了很多返工的时间。而且你对整个系统的理解会很深入，后面维护起来也轻松很多。